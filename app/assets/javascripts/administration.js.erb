//= require jquery
//= require jquery.turbolinks
//= require jquery_ujs
//= require admin/soca
//= require jquery.scrollTo/jquery.scrollTo.min
//= require _trado
//= require trado.misc
//= require trado.modal
//= require trado.admin
//= require trado.animation
//= require turbolinks

var taxRate = "<%= Store::settings.tax_rate %>";
     
ready = function()
{
    soca.animation.loading();
    soca.animation.colourCaveat();
    soca.animation.attachmentHandler();
    soca.filter.tableRowTarget();
    soca.filter.products();
    soca.misc.taxField();
    soca.misc.multiSelect();
    soca.misc.updateTableHeight();
    soca.mobile.disableScrolling();
    soca.mobile.disableTooltips();

    trado.admin.jsonErrors();
    trado.modal.ajaxOpen('.edit_order_attributes', '/admin/orders/', '/edit');
    trado.modal.ajaxOpen('.new_stock_levels', '/admin/products/skus/stock_levels/new?sku_id=', null);
    trado.modal.ajaxOpen('.edit_sku_attributes', '/admin/products/skus/', '/edit');
    trado.modal.ajaxOpen('.edit_transaction_attributes', '/admin/orders/transactions/', '/edit');

};
$(document).ready(ready);
$(document).on('page:change page:load', function()
{
    $('[data-toggle=tooltip]').tooltip('hide');
    $('.main .container').removeClass('fadeOut').addClass('animated fadeIn');
});
$(document).on('page:fetch', function()
{
    $('.main .container').addClass('animated fadeOut');
    return $('.loading5').addClass('active');
});

$(document).on("page:receive", function(){
    $('.loading-overlay').removeClass('active');
    return $('.loading5').removeClass('active');
});

// document.addEventListener('page:change', function() {
//     document.getElementById('primary-content').className += 'animated fadeIn';
// });
// document.addEventListener('page:fetch', function() {
//         document.getElementById('primary-content').className += 'animated fadeOut';
// });
